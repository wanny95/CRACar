<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>main.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#ifdef _DEBUG
#include "gmock/gmock.h"

int main()
<span style = "background-color:#dfd">{
	::testing::InitGoogleMock();
	return RUN_ALL_TESTS();
}</span>

#else

#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
#include "Car.h"
#include "Utils.h"

#define CLEAR_SCREEN "\033[H\033[2J"

void displayCarTypeAndTestMode(int selectionStep);
bool checkInputValidity(int selectionStep, int answer, char* checkNumber);
bool getUserInput(char** buf);

int main() {
	char buf[100];

	while (true) {
		displayCarTypeAndTestMode(Car::getInstance().getSelectStep());

		printf("INPUT &gt; ");

		char* buffer = buf;
		if (!getUserInput(&amp;buffer)) {
			break;
		}

		char* checkNumber;
		int answer = strtol(buf, &amp;checkNumber, 10); // convert character string to number

		if (!checkInputValidity(Car::getInstance().getSelectStep(), answer, checkNumber)) {
			continue;
		}

		// Go back the first Menu
		if (Car::getInstance().goBackFirst(answer)) {
			continue;
		}

		// Go back the previouse Menu
		if (Car::getInstance().goPreviousStep(answer)) {
			continue;
		}

		// select type and test mode
		Car::getInstance().selectTypeOrTestMode(answer);
	}
}

bool getUserInput(char** buf)
{
	fgets(*buf, sizeof(*buf), stdin);

	//remove enter charactor
	char* context = nullptr;
	strtok_s(*buf, "\r", &amp;context);
	strtok_s(*buf, "\n", &amp;context);

	if (!strcmp(*buf, "exit")) {
		printf("¹ÙÀÌ¹ÙÀÌ\n");
		return false;
	}

	return true;
}

void displayCarTypeAndTestMode(int selectionStep)
{
	if (selectionStep == CarType_Q) {
		printf(CLEAR_SCREEN);


		printf("        ______________\n");
		printf("       /|            | \n");
		printf("  ____/_|_____________|____\n");
		printf(" |                      O  |\n");
		printf(" '-(@)----------------(@)--'\n");
		printf("===============================\n");
		printf("¾î¶² Â÷·® Å¸ÀÔÀ» ¼±ÅÃÇÒ±î¿ä?\n");
		printf("1. Sedan\n");
		printf("2. SUV\n");
		printf("3. Truck\n");
	}
	else if (selectionStep == Engine_Q) {
		printf(CLEAR_SCREEN);
		printf("¾î¶² ¿£ÁøÀ» Å¾ÀçÇÒ±î¿ä?\n");
		printf("0. µÚ·Î°¡±â\n");
		printf("1. GM\n");
		printf("2. TOYOTA\n");
		printf("3. WIA\n");
		printf("4. °íÀå³­ ¿£Áø\n");
	}
	else if (selectionStep == brakeSystem_Q) {
		printf(CLEAR_SCREEN);
		printf("¾î¶² Á¦µ¿ÀåÄ¡¸¦ ¼±ÅÃÇÒ±î¿ä?\n");
		printf("0. µÚ·Î°¡±â\n");
		printf("1. MANDO\n");
		printf("2. CONTINENTAL\n");
		printf("3. BOSCH\n");
	}
	else if (selectionStep == SteeringSystem_Q) {
		printf(CLEAR_SCREEN);
		printf("¾î¶² Á¶ÇâÀåÄ¡¸¦ ¼±ÅÃÇÒ±î¿ä?\n");
		printf("0. µÚ·Î°¡±â\n");
		printf("1. BOSCH\n");
		printf("2. MOBIS\n");
	}
	else if (selectionStep == Run_Test) {
		printf(CLEAR_SCREEN);
		printf("¸ÚÁø Â÷·®ÀÌ ¿Ï¼ºµÇ¾ú½À´Ï´Ù.\n");
		printf("¾î¶² µ¿ÀÛÀ» ÇÒ±î¿ä?\n");
		printf("0. Ã³À½ È­¸éÀ¸·Î µ¹¾Æ°¡±â\n");
		printf("1. RUN\n");
		printf("2. Test\n");
	}

	printf("===============================\n");
}

bool checkInputValidity(int selectionStep, int answer, char* checkNumber)
{
	//ÀÔ·Â¹ÞÀº ¹®ÀÚ°¡ ¼ýÀÚ°¡ ¾Æ´Ï¶ó¸é
	if (*checkNumber != '\0') {
		printf("ERROR :: ¼ýÀÚ¸¸ ÀÔ·Â °¡´É\n");
		delay(MENU_SELECT_DELAY);
		return false;
	}

	if (selectionStep == CarType_Q &amp;&amp; !(answer &gt;= 1 &amp;&amp; answer &lt;= 3)) {
		printf("ERROR :: Â÷·® Å¸ÀÔÀº 1 ~ 3 ¹üÀ§¸¸ ¼±ÅÃ °¡´É\n");
		delay(800);
		return false;
	}

	if (selectionStep == Engine_Q &amp;&amp; !(answer &gt;= 0 &amp;&amp; answer &lt;= 4)) {
		printf("ERROR :: ¿£ÁøÀº 1 ~ 4 ¹üÀ§¸¸ ¼±ÅÃ °¡´É\n");
		delay(MENU_SELECT_DELAY);
		return false;
	}

	if (selectionStep == brakeSystem_Q &amp;&amp; !(answer &gt;= 0 &amp;&amp; answer &lt;= 3)) {
		printf("ERROR :: Á¦µ¿ÀåÄ¡´Â 1 ~ 3 ¹üÀ§¸¸ ¼±ÅÃ °¡´É\n");
		delay(MENU_SELECT_DELAY);
		return false;
	}

	if (selectionStep == SteeringSystem_Q &amp;&amp; !(answer &gt;= 0 &amp;&amp; answer &lt;= 2)) {
		printf("ERROR :: Á¶ÇâÀåÄ¡´Â 1 ~ 2 ¹üÀ§¸¸ ¼±ÅÃ °¡´É\n");
		delay(MENU_SELECT_DELAY);
		return false;
	}

	if (selectionStep == Run_Test &amp;&amp; !(answer &gt;= 0 &amp;&amp; answer &lt;= 2)) {
		printf("ERROR :: Run ¶Ç´Â Test Áß ÇÏ³ª¸¦ ¼±ÅÃ ÇÊ¿ä\n");
		delay(MENU_SELECT_DELAY);
		return false;
	}

	return true;
}

#endif</pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>